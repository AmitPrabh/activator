<section id="new">

  <div id="templatesList" class="half">
    <header class="tabs">
      <h2 data-bind="click: showTemplates, css: {active: openedTab() == 'templates'}">Tutorials</h2>
      <h2 data-bind="click: showSeeds, css: {active: openedTab() == 'seed'}">Seeds</h2>
    </header>
    <article id="templateList" data-bind="visible: openedTab() == 'templates'">
      <aside id="filter">
        <span class="clear" data-bind="click: clearSearch">×</span>
        <input type="text" placeholder="Filter templates" data-bind="value: filterValue, event: {  keyup: search, change: search }" />
      </aside>
      <ul class="list" data-bind="foreach: filteredTemplates">
        <li class="template" data-bind="css: {featured: featured, active: $root.currentAppId() == id}, click: $root.chooseTemplate">
          <input type="radio" name="template" data-bind="value: id">
          <span data-bind="text: title"></span>
          <ul class="tags" data-bind="foreach: tags">
            <li data-bind="text: $data, click: $root.clickTemplate"></li>
          </ul>
        </li>
      </ul>
    </article>
    <article id="seedList" data-bind="visible: openedTab() == 'seed'">
      <ul class="list" data-bind="foreach: seeds">
        <li class="template" data-bind="css: {featured: featured, active: $root.currentAppId() == id}, click: $root.chooseSeed">
          <input type="radio" name="template" data-bind="value: id">
          <span data-bind="text: title"></span>
          <ul class="tags" data-bind="foreach: tags">
            <li data-bind="text: $data"></li>
          </ul>
        </li>
      </ul>
    </article>
  </div>

  <!-- ko if:currentApp -->
  <div id="viewTemplate" class="half right" data-bind="with: currentApp">
    <div class="template">
      <span class="clear" data-bind="click: $root.closeTemplate">×</span>
      <h3 data-bind="text: title"></h3>
      <ul class="tags" data-bind="foreach: tags">
        <li data-bind="click: $root.searchTag, text: $data"></li>
      </ul>
      <p data-bind="text: description"></p>
      <div class="author">
        <p><cite>by <span data-bind="text: authorName"></span>
          <!-- ko if:authorTwitter -->
            (<a target="_blank" data-bind="attr: { href: 'http://twitter.com/' + authorTwitter }, text: authorTwitter"></a>)
          <!--  /ko -->
          </cite></p>
        <p><a target="_blank" data-bind="attr: { href: sourceLink }, text: sourceLink" class="source"></a></p>
      </div>
      <div class="promote partner">
        <img data-bind="attr: { src: authorLogo }">
        <h4 data-bind="text: authorName"></h4>
        <p data-bind="text: authorBio"></p>
      </div>
    </div>
    <form id="newApp" data-bind="submit: $root.newAppFormSubmit">
      <h4>Create an app from this template</h4>
      <input type="hidden" name="template-name" data-bind="value: id">
      <input type="hidden" name="template" data-bind="value: id">
      <input type="hidden" id="appName" name="name" data-bind="value: name">
      <p>
        <a id="browseAppLocation" data-bind="click: $root.clickBrowseAppLocation"></a>
      <input type="text" id="newappLocation" name="location" data-bind="value: baseFolder + separator + name">
      </p>
      <div class="select">
        <input type="submit" class="button" value="Create" id="newButton">
      </div>
    </form>
  </div>
  <!-- /ko -->

  <!-- ko ifnot:currentApp -->
  <div id="welcome" class="half right">
    <h3>Create a new app</h3>
    <p>You will be learning and writing code in seconds...</p>
    <ol class="steps">
      <li>Choose a template</li>
      <li>Specify a location</li>
      <li>Activate it!</li>
    </ol>
    <h4>Filter templates by a tag:</h4>
    <ul class="inspiration tags" data-bind="foreach: tags">
      <li data-bind="click: $root.searchTag, text: $data"></li>
    </ul>
  </div>
  <!-- /ko -->

  <div id="newAppLocationBrowser" class="subsection hidden">
    <header>
      <span class="close" data-bind="click: $root.closeNewBrowser">×</span>
      <h2>Choose a destination</h2>
    </header>
    <div class="list">
      <!-- ko include: fs.render.bind(fs) --><!-- /ko -->
    </div>
  </div>

</section>
